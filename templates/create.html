{% extends "layout.html" %}

{% block title %}
    Create Profile
{% endblock %}

{% block main %}
<form class="form" id="regForm" action="/create" method="post">

<h3 style="padding-bottom: 20px; font-size: 50px; font-family: novecento sans, sans-serif;">Set up my profile</h3>

<!-- One "tab" for each step in the form: -->
    <div class="tab">
      <p>First Name<input name="fname" placeholder="First name..." oninput="this.className = ''"></p>
      <p>Last Name<input name="lname" placeholder="Last name..." oninput="this.className = ''"></p>
      <p>Birthday<input name="birth" placeholder="Birthday..." oninput="this.className=''" type="date"></p>
      <p>Hometown<input name="hometown" placeholder="City..." oninput="this.className=''" type="text"></p>
      <p>State
        <select name="state">
            <option selected disabled>State</option>
            <option value="AL">AL</option>
            <option value="AK">AK</option>
            <option value="AR">AR</option>
            <option value="AZ">AZ</option>
            <option value="CA">CA</option>
            <option value="CO">CO</option>
            <option value="CT">CT</option>
            <option value="DC">DC</option>
            <option value="DE">DE</option>
            <option value="FL">FL</option>
            <option value="GA">GA</option>
            <option value="HI">HI</option>
            <option value="IA">IA</option>
            <option value="ID">ID</option>
            <option value="IL">IL</option>
            <option value="IN">IN</option>
            <option value="KS">KS</option>
            <option value="KY">KY</option>
            <option value="LA">LA</option>
            <option value="MA">MA</option>
            <option value="MD">MD</option>
            <option value="ME">ME</option>
            <option value="MI">MI</option>
            <option value="MN">MN</option>
            <option value="MO">MO</option>
            <option value="MS">MS</option>
            <option value="MT">MT</option>
            <option value="NC">NC</option>
            <option value="NE">NE</option>
            <option value="NH">NH</option>
            <option value="NJ">NJ</option>
            <option value="NM">NM</option>
            <option value="NV">NV</option>
            <option value="NY">NY</option>
            <option value="ND">ND</option>
            <option value="OH">OH</option>
            <option value="OK">OK</option>
            <option value="OR">OR</option>
            <option value="PA">PA</option>
            <option value="RI">RI</option>
            <option value="SC">SC</option>
            <option value="SD">SD</option>
            <option value="TN">TN</option>
            <option value="TX">TX</option>
            <option value="UT">UT</option>
            <option value="VT">VT</option>
            <option value="VA">VA</option>
            <option value="WA">WA</option>
            <option value="WI">WI</option>
            <option value="WV">WV</option>
            <option value="WY">WY</option></select>
	    </p>
    </div>

    <div class="tab">
      <p>Email<input name="email" placeholder="Email..." oninput="this.className = ''"></p>
      <p>Phone<input type="tel" name="cell" pattern="[0-9]{3}-[0-9]{2}-[0-9]{3}" placeholder="xxx-xxx-xxxx" oninput="this.className = ''"></p>
      <p>Snapchat<input name="snapchat" placeholder="Snapchat...'None' if not applicable" oninput="this.className = ''"></p>
      <p>Instagram<input name="instagram" placeholder="Instagram...'None' if not applicable" oninput="this.className = ''"></p>
    </div>

    <div class="tab">
      <p>Class
          <select id="class" name="class">
              <option disabled>Class</option>
              <option value="Freshman (2024)">Freshman (2024)</option>
              <option value="Sophomore (2023)">Sophomore (2023)</option>
              <option value="Junior (2022)">Junior (2022)</option>
              <option value="Senior (2021)">Senior (2021)</option>
          </select>
      </p>
      <p>Yard / House Affiliation
        <select id="dorm" name="dorm">
            <option disabled>-- Freshman Yards --</option>
            <option value="Crimson Yard">Crimson Yard</option>
            <option value="Elm Yard">Elm Yard</option>
            <option value="Ivy Yard">Ivy Yard</option>
            <option value="Oak Yard">Oak Yard</option>
            <option disabled>-- Upperclassmen Houses --</option>
            <option value="Adams House">Adams House</option>
            <option value="Cabot House">Cabot House</option>
            <option value="Currier House">Currier House</option>
            <option value="Dunster House">Dunster House</option>
            <option value="Eliot House">Eliot House</option>
            <option value="Kirkland House">Kirkland House</option>
            <option value="Leverett House">Leverett House</option>
            <option value="Lowell House">Lowell House</option>
            <option value="Mather House">Mather House</option>
            <option value="Pforzheimer House">Pforzheimer House</option>
            <option value="Quincy House">Quincy House</option>
            <option value="Winthrop House">Winthrop House</option>
        </select>
      </p>
      <p>Concentration
        <select name="major">
          <option value="Undeclared">Undeclared</option>
          {% for concentration in concentration %}
          <option value="{{concentration}}">{{concentration}}</option>
          {% endfor %}
        </select>
      </p>
      <p>Secondary concentration
        <select name="minor">
          <option value="None">None</option>
          {% for concentration in concentration %}
          <option value="{{concentration}}">{{concentration}}</option>
          {% endfor %}
        </select>
      </p>
    </div>

    <div class="tab">
      <p>Extracurricular Pursuits</p>
      <p>
        <select name="act0">
          <option value="None">None</option>
          {% for activity in extracurricular %}
          <option value="{{activity}}">{{activity}}</option>
          {% endfor %}
        </select>
        <input class="desc" name="description0" type="text" maxlength="100" placeholder="Description...'None' if not applicable">
      </p>
      <p>
        <select name="act1">
          <option value="None">None</option>
          {% for activity in extracurricular %}
          <option value="{{activity}}">{{activity}}</option>
          {% endfor %}
        </select>
        <input class="desc" name="description1" type="text" maxlength="100" placeholder="Description...'None' if not applicable">
      </p>
      <p>
        <select name="act2">
          <option value="None">None</option>
          {% for activity in extracurricular %}
          <option value="{{activity}}">{{activity}}</option>
          {% endfor %}
        </select>
        <input class="desc" name="description2" type="text" maxlength="100" placeholder="Description...'None' if not applicable">
      </p>
      <p>Hobbies/Interests</p>
      <p>
        <select name="hobby0">
          <option value="None">None</option>
          {% for hobby in hobbies %}
          <option value="{{hobby}}">{{hobby}}</option>
          {% endfor %}
        </select>
      </p>
      <p>
        <select name="hobby1">
          <option value="None">None</option>
          {% for hobby in hobbies %}
          <option value="{{hobby}}">{{hobby}}</option>
          {% endfor %}
        </select>
      </p>
      <p><input class="hobby-other" name="hobby-other"  type="text" maxlength="50" placeholder="Other...'None' if not applicable"></p>
    </div>

    <div class="tab">
      <p>Favorite Books (Top 3)<input class="fav" placeholder="Book...'None' if not applicable" name="book0" type="text" oninput="this.className = ''"><input class="fav" placeholder="Book...'None' if not applicable" name="book1" type="text" oninput="this.className = ''"><input class="fav" placeholder="Book...'None' if not applicable" name="book2" type="text" oninput="this.className = ''"></p>
      <p>Favorite Song Artists/Musicians (Top 3)<input class="fav" placeholder="Artist...'None' if not applicable" name="music0" type="text" oninput="this.className = ''"><input class="fav" placeholder="Artist...'None' if not applicable" name="music1" type="text" oninput="this.className = ''"><input class="fav" placeholder="Artist...'None' if not applicable" name="music2" type="text" oninput="this.className = ''"></p>
      <p>Favorite Movies (Top 3)<input class="fav" placeholder="Movie...'None' if not applicable" name="movie0" type="text" oninput="this.className = ''"><input class="fav" placeholder="Movie...'None' if not applicable" name="movie1" type="text" oninput="this.className = ''"><input class="fav" placeholder="Movie...'None' if not applicable" name="movie2" type="text" oninput="this.className = ''"></p>
      <p>Favorite TV Shows (Top 3)<input class="fav" placeholder="TV Show...'None' if not applicable" name="tv0" type="text" oninput="this.className = ''"><input class="fav" placeholder="TV Show...'None' if not applicable" name="tv1" type="text" oninput="this.className = ''"><input class="fav" placeholder="TV Show...'None' if not applicable" name="tv2" type="text" oninput="this.className = ''"></p>
    </div>

    <div style="overflow:auto;">
      <div>
        <button type="button" id="prevBtn" style="float:left;" onclick="nextPrev(-1)">Previous</button>
        <button type="button" id="nextBtn" style="float:right;" onclick="nextPrev(1)">Next</button>
      </div>
    </div>

    <!-- Circles which indicates the steps of the form: -->
    <div style="text-align:center;margin-top:40px;">
      <span class="step"></span>
      <span class="step"></span>
      <span class="step"></span>
      <span class="step"></span>
      <span class="step"></span>
    </div>

    </form>
    <script>
        var currentTab = 0; // Current tab is set to be the first tab (0)
        showTab(currentTab); // Display the current tab

        function showTab(n) {
          // This function will display the specified tab of the form ...
          var x = document.getElementsByClassName("tab");
          x[n].style.display = "block";
          // ... and fix the Previous/Next buttons:
          if (n == 0) {
            document.getElementById("prevBtn").style.display = "none";
          } else {
            document.getElementById("prevBtn").style.display = "inline";
          }
          if (n == (x.length - 1)) {
            document.getElementById("nextBtn").innerHTML = "Submit";
          } else {
            document.getElementById("nextBtn").innerHTML = "Next";
          }
          // ... and run a function that displays the correct step indicator:
          fixStepIndicator(n)
        }

        function nextPrev(n) {
          // This function will figure out which tab to display
          var x = document.getElementsByClassName("tab");
          // Exit the function if any field in the current tab is invalid:
          if (n == 1 && !validateForm()) return false;
          // Hide the current tab:
          x[currentTab].style.display = "none";
          // Increase or decrease the current tab by 1:
          currentTab = currentTab + n;
          // if you have reached the end of the form... :
          if (currentTab >= x.length) {
            //...the form gets submitted:
            document.getElementById("regForm").submit();
            return false;
          }
          // Otherwise, display the correct tab:
          showTab(currentTab);
        }

        function validateForm() {
          // This function deals with validation of the form fields
          var x, y, i, valid = true;
          x = document.getElementsByClassName("tab");
          y = x[currentTab].getElementsByTagName("input");
          // A loop that checks every input field in the current tab:
          for (i = 0; i < y.length; i++) {
            // If a field is empty...
            if (y[i].value == "") {
              // add an "invalid" class to the field:
              y[i].className += " invalid";
              // and set the current valid status to false:
              valid = false;
            }
          }
          // If the valid status is true, mark the step as finished and valid:
          if (valid) {
            document.getElementsByClassName("step")[currentTab].className += " finish";
          }
          return valid; // return the valid status
        }

        function fixStepIndicator(n) {
          // This function removes the "active" class of all steps...
          var i, x = document.getElementsByClassName("step");
          for (i = 0; i < x.length; i++) {
            x[i].className = x[i].className.replace(" active", "");
          }
          //... and adds the "active" class to the current step:
          x[n].className += " active";
        }
    </script>
{% endblock %}
